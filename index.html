<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambios Yireh | Calculadora Global</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --naranja: #e67e22; --naranja-dark: #d35400; --azul: #2c3e50; --gris: #f4f7f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--gris); margin: 0; text-align: center; }
        header { background: var(--naranja); color: white; padding: 25px; border-bottom: 5px solid var(--naranja-dark); }
        .logo { max-width: 140px; margin-bottom: 5px; }
        .container { max-width: 600px; margin: 20px auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        label { font-weight: bold; display: block; margin: 10px 0 5px; text-align: left; }
        select, input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; margin-bottom: 10px; box-sizing: border-box; }
        .resultado-caja { background: #fff9f4; padding: 20px; border-radius: 10px; border: 2px solid var(--naranja); margin: 20px 0; }
        .resultado-monto { font-size: 30px; font-weight: 800; color: var(--naranja); display: block; }
        
        /* BotÃ³n Validado */
        .btn-whatsapp { background: #27ae60; color: white; padding: 18px; border-radius: 8px; width: 100%; font-size: 18px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; text-decoration: none; border: none; opacity: 0.3; pointer-events: none; transition: 0.3s; }
        .btn-active { opacity: 1 !important; pointer-events: auto !important; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); }
        
        .check-container { display: flex; align-items: center; gap: 10px; background: #fff4e5; padding: 10px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--naranja); }
        .check-container input { width: auto; margin: 0; }
        .footer-info { background: white; padding: 20px; border-radius: 10px; margin: 20px auto; max-width: 600px; border: 1px solid #eee; text-align: left; font-size: 13px; }
        .error-hint { color: #e74c3c; font-size: 11px; margin-top: -8px; margin-bottom: 10px; text-align: left; display: block; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <img src="logo.png" alt="Cambios Yireh" class="logo">
    <br><i>"Tu puente de confianza, tu dinero al instante."</i>
</header>

<div class="container">
    <label>Vendedor:</label>
    <select id="vendedor">
        <option value="56957326594|Y40">Y40 Nay MartÃ­nez</option>
        <option value="56974967341|Y32">Y32 JosÃ© MillÃ¡n</option>
        <option value="584120628361|Y17">Y17 Alba ArÃ©valo</option>
    </select>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
        <div>
            <label>Desde:</label>
            <select id="origen" onchange="calcular()">
                <option value="CHILE">ğŸ‡¨ğŸ‡± Chile (CLP)</option>
                <option value="VENEZUELA">ğŸ‡»ğŸ‡ª Venezuela (VES)</option>
                <option value="COLOMBIA">ğŸ‡¨ğŸ‡´ Colombia (COP)</option>
                <option value="PERU">ğŸ‡µğŸ‡ª PerÃº (PEN)</option>
                <option value="DOLAR">ğŸ‡ºğŸ‡¸ DÃ³lar/Zelle</option>
            </select>
        </div>
        <div>
            <label>Hacia:</label>
            <select id="destino" onchange="calcular()">
                <option value="VENEZUELA">ğŸ‡»ğŸ‡ª Venezuela (VES)</option>
                <option value="CHILE">ğŸ‡¨ğŸ‡± Chile (CLP)</option>
                <option value="COLOMBIA">ğŸ‡¨ğŸ‡´ Colombia (COP)</option>
                <option value="PERU">ğŸ‡µğŸ‡ª PerÃº (PEN)</option>
                <option value="ARGENTINA">ğŸ‡¦ğŸ‡· Argentina (ARS)</option>
                <option value="MEXICO">ğŸ‡²ğŸ‡½ MÃ©xico (MXN)</option>
                <option value="PANAMA">ğŸ‡µğŸ‡¦ PanamÃ¡ (USD)</option>
                <option value="ECUADOR">ğŸ‡ªğŸ‡¨ Ecuador (USD)</option>
                <option value="DOLAR">ğŸ‡ºğŸ‡¸ DÃ³lares (USD)</option>
            </select>
        </div>
    </div>

    <label>Monto a enviar:</label>
    <input type="number" id="monto" placeholder="0.00" oninput="calcular()">

    <div class="resultado-caja">
        <span class="resultado-monto" id="resultado">0.00</span>
        <b id="moneda-final">BolÃ­vares</b>
    </div>

    <h3>Datos del Receptor</h3>
    <input type="text" id="nombre" placeholder="Nombre y Apellido">
    <input type="text" id="cedula" placeholder="CÃ©dula / ID">
    <input type="text" id="banco" placeholder="Banco Receptor">
    <select id="tipo_cuenta" onchange="validar()">
        <option value="Corriente">Cuenta Corriente (20 dÃ­gitos)</option>
        <option value="Ahorro">Cuenta de Ahorro (20 dÃ­gitos)</option>
        <option value="Pago MÃ³vil">Pago MÃ³vil (11 dÃ­gitos)</option>
    </select>
    <input type="text" id="nro_cuenta" placeholder="NÃºmero de cuenta o telÃ©fono" oninput="validar()">
    <span id="hint" class="error-hint">Esperando datos correctos...</span>

    <div class="check-container">
        <input type="checkbox" id="comprobante" onchange="validar()">
        <label for="comprobante" style="margin:0; font-size:13px;">âœ… Ya tengo mi comprobante de pago para adjuntar.</label>
    </div>

    <button id="btn-wa" class="btn-whatsapp" onclick="enviar()">
        <i class="fab fa-whatsapp"></i> ENVIAR AL VENDEDOR
    </button>
</div>

<div class="footer-info">
    <h4 style="color:var(--naranja); margin-top:0;">InformaciÃ³n de Bancos y MÃ­nimos</h4>
    <div style="line-height: 1.6;">
        <b>ğŸ‡µğŸ‡¦ PanamÃ¡:</b> Todos los bancos (Min $20). | <b>ğŸ‡¦ğŸ‡· Argentina:</b> Brubank, M.Pago, UalÃ¡ (Min $20).<br>
        <b>ğŸ‡²ğŸ‡½ MÃ©xico:</b> BBVA, Banamex, M.Pago, STP (Min $20). | <b>ğŸ‡ªğŸ‡¨ Ecuador:</b> Pichincha, Guayaquil (Min $20).<br>
        <b>ğŸ‡µğŸ‡ª PerÃº:</b> BCP, Yape, Interbancaria. | <b>ğŸ‡¨ğŸ‡´ Colombia:</b> Nequi, Bancolombia, Transfiya.
    </div>
</div>

<script>
// MATRIZ DE TASAS SEGÃšN TUS IMÃGENES
const matriz = {
    "VENEZUELA_COLOMBIA":{t:6,o:'m'},"VENEZUELA_PERU":{t:150,o:'d'},"VENEZUELA_ARGENTINA":{t:0.7,o:'d'},"VENEZUELA_ECUADOR":{t:580,o:'d'},"VENEZUELA_PANAMA":{t:586,o:'d'},"VENEZUELA_MEXICO":{t:50,o:'d'},"VENEZUELA_CHILE":{t:0.7,o:'d'},"VENEZUELA_DOLAR":{t:635,o:'d'},
    "DOLAR_CHILE":{t:765,o:'m'},"DOLAR_PERU":{t:2.88,o:'m'},"DOLAR_ARGENTINA":{t:1305,o:'m'},"DOLAR_ECUADOR":{t:0.87,o:'m'},"DOLAR_PANAMA":{t:0.85,o:'m'},"DOLAR_MEXICO":{t:15.7,o:'m'},"DOLAR_VENEZUELA":{t:365,o:'m'},"DOLAR_COLOMBIA":{t:3160,o:'m'},
    "COLOMBIA_DOLAR":{t:0.237,o:'m'},"PERU_DOLAR":{t:0.262,o:'m'},"CHILE_DOLAR":{t:0.00098,o:'m'},"COLOMBIA_VENEZUELA":{t:9.1,o:'d'},
    "CHILE_VENEZUELA":{t:0.487,o:'m'},"CHILE_COLOMBIA":{t:3.6,o:'m'},"CHILE_PERU":{t:0.0033,o:'m'},"CHILE_ARGENTINA":{t:1.4,o:'m'},"CHILE_ECUADOR":{t:0.00097,o:'m'},"CHILE_PANAMA":{t:0.00095,o:'m'},"CHILE_MEXICO":{t:0.0175,o:'m'},
    "COLOMBIA_CHILE":{t:0.211,o:'m'},"COLOMBIA_PERU":{t:0.00080,o:'m'},"COLOMBIA_ARGENTINA":{t:0.349,o:'m'},"COLOMBIA_ECUADOR":{t:0.000226,o:'m'},"COLOMBIA_PANAMA":{t:0.000221,o:'m'},"COLOMBIA_MEXICO":{t:0.00424,o:'m'},
    "PERU_VENEZUELA":{t:126,o:'m'},"PERU_PANAMA":{t:0.25,o:'m'},"PERU_ARGENTINA":{t:375,o:'m'},"PERU_ECUADOR":{t:0.255,o:'m'},"PERU_COLOMBIA":{t:960,o:'m'},"PERU_MEXICO":{t:4.7,o:'m'},"PERU_CHILE":{t:235,o:'m'}
};

function calcular() {
    const m = parseFloat(document.getElementById('monto').value) || 0;
    const o = document.getElementById('origen').value;
    const d = document.getElementById('destino').value;
    document.getElementById('moneda-final').innerText = d;
    if(o===d){document.getElementById('resultado').innerText = m.toFixed(2); return;}
    const c = matriz[`${o}_${d}`];
    if(c){
        let res = c.o === 'm' ? m * c.t : m / c.t;
        document.getElementById('resultado').innerText = res.toLocaleString('es-VE',{minimumFractionDigits:2});
    } else { document.getElementById('resultado').innerText = "Consulte Tasa"; }
    validar();
}

function validar() {
    const t = document.getElementById('tipo_cuenta').value;
    const n = document.getElementById('nro_cuenta').value.replace(/\D/g,'');
    const comp = document.getElementById('comprobante').checked;
    const b = document.getElementById('btn-wa');
    const h = document.getElementById('hint');
    const monto = document.getElementById('monto').value;
    
    let ok = false;
    if(t === "Pago MÃ³vil") {
        if(n.length === 11) ok = true;
        h.innerText = ok ? "âœ… TelÃ©fono correcto" : "âŒ Debe tener 11 dÃ­gitos";
    } else {
        if(n.length === 20) ok = true;
        h.innerText = ok ? "âœ… Cuenta correcta" : "âŒ Debe tener 20 dÃ­gitos";
    }
    
    if(ok && monto > 0 && comp) b.classList.add('btn-active');
    else b.classList.remove('btn-active');
}

function enviar() {
    const v = document.getElementById('vendedor').value.split('|');
    const o = document.getElementById('origen').value;
    const d = document.getElementById('destino').value;
    const msg = `*FICHA DE OPERACIÃ“N*%0A--------------------------%0A${document.getElementById('nombre').value}%0A${document.getElementById('cedula').value}%0A${document.getElementById('banco').value}%0A${document.getElementById('nro_cuenta').value}%0A%0A*ğŸ’° RECIBE:* ${document.getElementById('resultado').innerText} ${d}%0A*ğŸ’¸ PAGA:* ${document.getElementById('monto').value} ${o}%0A*ğŸ¤ VENDEDOR:* ${v[1]}%0A%0A_Adjunto mi comprobante a continuaciÃ³n..._`;
    window.open(`https://wa.me/${v[0]}?text=${msg}`,'_blank');
}
</script>
</body>
</html>
