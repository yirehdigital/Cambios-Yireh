<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambios Yireh | Gesti√≥n de Remesas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <script>
        /****************************************************************
         * üìä PANEL DE CONTROL DE TASAS (EDITA AQU√ç)
         ****************************************************************/
        const TASAS_CONFIG = {
            CHILE_A_BS: 0.487,    
            COLOMBIA_A_BS: 9.1,   
            PERU_A_BS: 126,       
            USD_A_BS: 365,        
            BS_A_CHILE: 0.7,      
            BS_A_COLOMBIA: 6,     
            BS_A_PERU: 150,       
            BS_A_USD: 635,        
            USD_A_CHILE: 765,     
            USD_A_PERU: 2.88,     
            USD_A_COLOMBIA: 3160  
        };

        /****************************************************************
         * üë• PANEL DE VENDEDORES (ORGANIZADOS DE Y1 A Y57)
         ****************************************************************/
        const VENDEDORES_CONFIG = [
            "584127769427|Y1 Aiskell Brice√±o",
            "584163671522|Y2 Nerio Arias",
            "56927116173|Y10 Mayelis Pi√±a",
            "56984584496|Y16 Miriam Gonz√°lez",
            "5841220628361|Y17 Alba Ar√©valo",
            "584246042760|Y19 Mayren Morillo",
            "584141682959|Y21 Jes√∫s Navarro",
            "584124662073|Y23 Arleny Meza",
            "15619439353|Y30 Leidy Andrade",
            "56974967341|Y32 Jos√© Mill√°n",
            "56977779695|Y37 MAIRELIS NAVA",
            "584146197804|Y39 Monica Faria",
            "56957326594|Y40 Nay Mart√≠nez",
            "584127713970|Y42 Roxana Perez",
            "584146482462|Y44 Yeilimar Salas",
            "573168926479|Y49 Hendrina Fernandez",
            "56947479603|Y50 Mireidy Diaz",
            "56981915712|Y57 Jonatan Cordero"
        ];
    </script>

    <style>
        :root { --naranja: #e67e22; --naranja-dark: #d35400; --azul: #2c3e50; --gris: #f4f7f6; --rojo: #c0392b; --verde: #27ae60; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--gris); margin: 0; color: var(--azul); }
        header { background: var(--naranja); color: white; padding: 20px; border-bottom: 5px solid var(--naranja-dark); text-align: center; }
        .logo { max-width: 140px; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2)); }
        
        .container { max-width: 500px; margin: 20px auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        label { font-weight: bold; display: block; margin: 15px 0 5px; font-size: 14px; }
        select, input { width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 8px; font-size: 16px; margin-bottom: 10px; box-sizing: border-box; transition: 0.3s; }
        input:focus { border-color: var(--naranja); outline: none; background: #fffdfb; }
        
        .resultado-caja { background: #fff9f4; padding: 20px; border-radius: 12px; border: 2px dashed var(--naranja); margin: 20px 0; text-align: center; }
        .resultado-monto { font-size: 36px; font-weight: 800; color: var(--naranja); display: block; }
        
        .btn-whatsapp { background: var(--verde); color: white; padding: 18px; border-radius: 10px; width: 100%; font-size: 17px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; text-decoration: none; border: none; opacity: 0.3; pointer-events: none; transition: 0.4s; margin-top: 15px; }
        .btn-active { opacity: 1 !important; pointer-events: auto !important; transform: translateY(-3px); box-shadow: 0 6px 20px rgba(39, 174, 96, 0.3); }

        /* SECCI√ìN DE TARJETAS INFORMATIVAS (SEG√öN IMAGEN) */
        .footer-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; max-width: 1000px; margin: 30px auto; padding: 0 20px; }
        .card { background: white; padding: 25px; border-radius: 15px; border-top: 4px solid var(--naranja); box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: left; }
        .card h4 { margin: 0 0 15px 0; color: var(--naranja); font-size: 16px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; }
        .card p { margin: 8px 0; font-size: 14px; color: #333; line-height: 1.4; }
        .card b { color: #000; }
        .prefix { font-weight: 800; font-size: 11px; text-transform: uppercase; margin-right: 4px; color: #555; }
    </style>
</head>
<body>

<header>
    <img src="logo.png" alt="Cambios Yireh" class="logo">
    <div style="font-size: 14px; opacity: 0.9; margin-top: 5px;">"Tu puente de confianza, tu dinero al instante."</div>
</header>

<div class="container">
    <label><i class="fas fa-user-tie"></i> Vendedor que le atiende:</label>
    <select id="vendedor"></select>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <div><label>Tengo:</label>
            <select id="origen" onchange="calcular()">
                <option value="CHILE">üá®üá± Chile</option>
                <option value="COLOMBIA">üá®üá¥ Colombia</option>
                <option value="VENEZUELA">üáªüá™ Venezuela</option>
                <option value="PERU">üáµüá™ Per√∫</option>
                <option value="DOLAR">üá∫üá∏ D√≥lar</option>
            </select>
        </div>
        <div><label>Env√≠o a:</label>
            <select id="destino" onchange="ajustarCampos()">
                <option value="VENEZUELA">üáªüá™ Venezuela</option>
                <option value="CHILE">üá®üá± Chile</option>
                <option value="COLOMBIA">üá®üá¥ Colombia</option>
                <option value="PERU">üáµüá™ Per√∫</option>
                <option value="DOLAR">üá∫üá∏ D√≥lar (Zelle)</option>
            </select>
        </div>
    </div>

    <label>Monto a enviar:</label>
    <input type="number" id="monto" placeholder="Ej: 50.00" oninput="calcular()">

    <div class="resultado-caja">
        <small style="color:#7f8c8d; font-weight:bold; letter-spacing: 1px;">RECIBES APROXIMADAMENTE</small>
        <span class="resultado-monto" id="resultado">0.00</span>
        <b id="moneda-text" style="color:var(--azul); font-size: 14px;">BOL√çVARES</b>
    </div>

    <h3 style="font-size: 18px; margin: 25px 0 15px;"><i class="fas fa-user-check"></i> Datos del Receptor</h3>
    <input type="text" id="nombre" placeholder="Nombre completo" oninput="validar()">
    <input type="text" id="cedula" placeholder="DNI / C√©dula / RUT" oninput="validar()">
    <input type="text" id="banco" placeholder="Banco de destino" oninput="validar()">
    
    <div id="wrapper-tipo">
        </div>

    <input type="text" id="nro_cuenta" placeholder="N√∫mero de cuenta o celular" oninput="validar()">
    <span id="hint" style="color:var(--rojo); font-size:12px; display:block; margin-bottom:10px; font-weight: bold;"></span>

    <div style="background: #eef9f2; padding: 15px; border-radius: 8px; margin: 20px 0; border: 1px solid #c3e6cb;">
        <label style="margin:0; cursor:pointer; display:flex; align-items:center; gap:10px;">
            <input type="checkbox" id="comprobante" onchange="validar()" style="width:20px; height:20px; margin:0;"> 
            <span>He realizado el pago y tengo el comprobante.</span>
        </label>
    </div>

    <button id="btn-wa" class="btn-whatsapp" onclick="enviar()">
        <i class="fab fa-whatsapp"></i> ENVIAR FICHA POR WHATSAPP
    </button>
</div>

<div class="footer-cards">
    <div class="card">
        <h4><i class="fas fa-university"></i> Bancos & Pago M√≥vil</h4>
        <p><span class="prefix">ve</span> <b>Venezuela:</b> Todos los bancos (20 d√≠gitos).</p>
        <p><span class="prefix">cl</span> <b>Chile:</b> Todos los bancos (RUT).</p>
        <p><span class="prefix">pe</span> <b>Per√∫:</b> BCP, Yape, Interbancaria.</p>
        <p><span class="prefix">co</span> <b>Colombia:</b> Nequi, Bancolombia, Transfiya.</p>
    </div>
    <div class="card">
        <h4><i class="fas fa-wallet"></i> Billeteras & Otros</h4>
        <p><span class="prefix">us</span> <b>USD:</b> Zelle (Min $50), Zinli, Wally.</p>
        <p><span class="prefix">pa</span> <b>Panam√° /</b> <span class="prefix">ec</span> <b>Ecuador:</b> Min $20.</p>
        <p><span class="prefix">mx</span> <b>M√©xico /</b> <span class="prefix">ar</span> <b>Argentina:</b> M.Pago, Ual√°, BBVA.</p>
    </div>
</div>

<script>
const matriz = {
    "CHILE_VENEZUELA":     { t: TASAS_CONFIG.CHILE_A_BS,    o: 'm' },
    "COLOMBIA_VENEZUELA":   { t: TASAS_CONFIG.COLOMBIA_A_BS,  o: 'd' },
    "PERU_VENEZUELA":       { t: TASAS_CONFIG.PERU_A_BS,     o: 'm' },
    "DOLAR_VENEZUELA":      { t: TASAS_CONFIG.USD_A_BS,      o: 'm' },
    "VENEZUELA_CHILE":      { t: TASAS_CONFIG.BS_A_CHILE,    o: 'd' },
    "VENEZUELA_COLOMBIA":   { t: TASAS_CONFIG.BS_A_COLOMBIA, o: 'm' },
    "VENEZUELA_PERU":       { t: TASAS_CONFIG.BS_A_PERU,     o: 'd' },
    "VENEZUELA_DOLAR":      { t: TASAS_CONFIG.BS_A_USD,      o: 'd' },
    "DOLAR_CHILE":          { t: TASAS_CONFIG.USD_A_CHILE,   o: 'm' },
    "DOLAR_PERU":           { t: TASAS_CONFIG.USD_A_PERU,    o: 'm' },
    "DOLAR_COLOMBIA":       { t: TASAS_CONFIG.USD_A_COLOMBIA, o: 'm' }
};

window.onload = function() {
    const select = document.getElementById('vendedor');
    VENDEDORES_CONFIG.forEach(v => {
        const [tel, nombre] = v.split('|');
        const opt = document.createElement('option');
        opt.value = `${tel}|${nombre}`;
        opt.innerHTML = nombre;
        select.appendChild(opt);
    });
    ajustarCampos();
};

function ajustarCampos() {
    const d = document.getElementById('destino').value;
    const wrapper = document.getElementById('wrapper-tipo');
    if (d === "VENEZUELA") {
        wrapper.innerHTML = `<label>Tipo de Cuenta:</label><select id="tipo_cuenta" onchange="validar()"><option value="Corriente">Cuenta Corriente (20 d√≠gitos)</option><option value="Ahorro">Cuenta de Ahorro (20 d√≠gitos)</option><option value="Pago M√≥vil">Pago M√≥vil (11 d√≠gitos)</option></select>`;
    } else {
        wrapper.innerHTML = `<label>Tipo de Cuenta:</label><input type="text" id="tipo_cuenta" placeholder="Ej: RUT, Nequi, CBU..." oninput="validar()">`;
    }
    calcular();
}

function calcular() {
    const m = parseFloat(document.getElementById('monto').value) || 0;
    const o = document.getElementById('origen').value;
    const d = document.getElementById('destino').value;
    const resElem = document.getElementById('resultado');
    document.getElementById('moneda-text').innerText = d === "VENEZUELA" ? "BOL√çVARES" : d;
    
    if(o === d) { 
        resElem.innerText = m.toFixed(2); 
    } else {
        const config = matriz[`${o}_${d}`];
        if(config) {
            let res = config.o === 'm' ? m * config.t : m / config.t;
            resElem.innerText = res.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        } else { resElem.innerText = "Consulte Tasa"; }
    }
    validar();
}

function validar() {
    const d = document.getElementById('destino').value;
    const n = document.getElementById('nro_cuenta').value.trim();
    const comp = document.getElementById('comprobante').checked;
    const nombre = document.getElementById('nombre').value.trim();
    const banco = document.getElementById('banco').value.trim();
    const monto = parseFloat(document.getElementById('monto').value) || 0;
    const btn = document.getElementById('btn-wa');
    const h = document.getElementById('hint');
    const tipo = document.getElementById('tipo_cuenta').value;

    let ok = (nombre.length > 5 && banco.length > 2 && monto > 0 && comp);

    if (d === "VENEZUELA") {
        const digits = n.replace(/\D/g,'');
        if (tipo === "Pago M√≥vil") {
            ok = ok && (digits.length === 11);
            h.innerText = (n && digits.length !== 11) ? `‚ùå Se requieren 11 d√≠gitos` : "";
        } else {
            ok = ok && (digits.length === 20);
            h.innerText = (n && digits.length !== 20) ? `‚ùå Se requieren 20 d√≠gitos` : "";
        }
    } else { ok = ok && (n.length >= 5); h.innerText = ""; }

    if(ok) btn.classList.add('btn-active');
    else btn.classList.remove('btn-active');
}

function enviar() {
    const v = document.getElementById('vendedor').value.split('|');
    const msg = `*FICHA DE OPERACI√ìN - YIREH*%0A` +
                `üë§ *Beneficiario:* ${document.getElementById('nombre').value.toUpperCase()}%0A` +
                `üÜî *ID:* ${document.getElementById('cedula').value}%0A` +
                `üè¶ *Banco:* ${document.getElementById('banco').value.toUpperCase()}%0A` +
                `üî¢ *Nro:* ${document.getElementById('nro_cuenta').value}%0A` +
                `--------------------------%0A` +
                `üí∞ *RECIBE:* ${document.getElementById('resultado').innerText} ${document.getElementById('destino').value}%0A` +
                `üí∏ *PAGO REALIZADO:* ${document.getElementById('monto').value} ${document.getElementById('origen').value}%0A` +
                `ü§ù *VENDEDOR:* ${v[1]}`;
    window.open(`https://wa.me/${v[0]}?text=${msg}`,'_blank');
}
</script>
</body>
</html>
